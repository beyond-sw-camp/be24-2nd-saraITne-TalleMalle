<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>탈래말래 - 공지사항 및 FAQ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="nav.js"></script>
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700&display=swap");

        body {
            font-family: "Pretendard", sans-serif;
            background-color: #f8fafc;
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 8px 32px rgba(30, 27, 75, 0.05);
        }

        .custom-scroll::-webkit-scrollbar {
            width: 5px;
        }

        .custom-scroll::-webkit-scrollbar-thumb {
            background: #e2e8f0;
            border-radius: 10px;
        }

        /* [추가됨] 네비게이션 활성화 스타일 */
        .nav-item.active {
            color: #4f46e5 !important;
            background-color: #eef2ff !important;
        }

        /* 탭 활성화 스타일 */
        .tab-btn.active {
            color: #4f46e5;
            border-bottom-width: 2px;
            border-color: #4f46e5;
        }

        /* FAQ 아코디언 애니메이션 */
        .faq-item.active i {
            transform: rotate(180deg);
        }
        .faq-item.active .faq-answer {
            display: block;
        }
    </style>
</head>
<body class="overflow-hidden">

    <div class="flex h-screen p-4 gap-4">
        <div id="navbar-container" class="w-20 h-full shrink-0 rounded-[2.5rem]"></div>

        <div class="flex-1 glass-panel rounded-[2.5rem] overflow-hidden flex flex-col">
            
            <div class="p-8 pb-0 border-b border-slate-100">
                <h1 class="text-2xl font-extrabold text-slate-900 tracking-tight mb-6">공지사항</h1>
                
                <div class="flex gap-8">
                    <button onclick="switchTab('notice')" id="tab-notice" class="tab-btn active pb-4 text-sm font-bold text-slate-500 hover:text-indigo-600 transition-colors border-b-2 border-transparent">
                        공지사항
                    </button>
                    <button onclick="switchTab('faq')" id="tab-faq" class="tab-btn pb-4 text-sm font-bold text-slate-500 hover:text-indigo-600 transition-colors border-b-2 border-transparent">
                        자주 묻는 질문
                    </button>
                </div>
            </div>

            <div class="flex-1 overflow-y-auto custom-scroll p-8">
                <div class="max-w-4xl mx-auto">
                    
                    <div id="content-notice" class="tab-content space-y-4">
                        <div class="bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-md transition-all cursor-pointer group">
                            <div class="flex justify-between items-start mb-2">
                                <span class="bg-indigo-50 text-indigo-600 text-[10px] font-bold px-2.5 py-1 rounded-lg uppercase">Update</span>
                                <span class="text-xs text-slate-400">2024.03.15</span>
                            </div>
                            <h3 class="text-base font-bold text-slate-900 mb-1 group-hover:text-indigo-600 transition-colors">v1.2.4 업데이트 안내</h3>
                            <p class="text-sm text-slate-500 line-clamp-1">채팅 기능 안정화 및 알림 센터 기능이 추가되었습니다.</p>
                        </div>

                        <div class="bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-md transition-all cursor-pointer group">
                            <div class="flex justify-between items-start mb-2">
                                <span class="bg-rose-50 text-rose-500 text-[10px] font-bold px-2.5 py-1 rounded-lg uppercase">Event</span>
                                <span class="text-xs text-slate-400">2024.03.10</span>
                            </div>
                            <h3 class="text-base font-bold text-slate-900 mb-1 group-hover:text-indigo-600 transition-colors">봄맞이 동승 포인트 2배 적립 이벤트!</h3>
                            <p class="text-sm text-slate-500 line-clamp-1">3월 한 달간 택시 동승 완료 시 포인트를 2배로 적립해드립니다.</p>
                        </div>

                        <div class="bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-md transition-all cursor-pointer group">
                            <div class="flex justify-between items-start mb-2">
                                <span class="bg-slate-100 text-slate-500 text-[10px] font-bold px-2.5 py-1 rounded-lg uppercase">Notice</span>
                                <span class="text-xs text-slate-400">2024.03.01</span>
                            </div>
                            <h3 class="text-base font-bold text-slate-900 mb-1 group-hover:text-indigo-600 transition-colors">서비스 이용 약관 개정 안내</h3>
                            <p class="text-sm text-slate-500 line-clamp-1">서비스 이용 약관이 일부 개정될 예정이오니 이용에 참고 부탁드립니다.</p>
                        </div>
                    </div>

                    <div id="content-faq" class="tab-content hidden space-y-3">
                        <div class="faq-item bg-white border border-slate-100 rounded-[1.5rem] overflow-hidden">
                            <button onclick="toggleFaq(this.parentElement)" class="w-full p-5 flex items-center justify-between text-left hover:bg-slate-50 transition-colors">
                                <span class="text-sm font-bold text-slate-800">동승 매칭은 어떻게 취소하나요?</span>
                                <i data-lucide="chevron-down" class="w-4 h-4 text-slate-400 transition-transform duration-300"></i>
                            </button>
                            <div class="faq-answer hidden p-5 pt-0 bg-slate-50/50 border-t border-slate-50">
                                <div class="text-[14px] text-slate-500 leading-relaxed">
                                    매칭 확정 전에는 '매칭 상세' 페이지에서 자유롭게 취소가 가능합니다. 다만, 확정 후 취소 시에는 매너 온도에 영향을 줄 수 있으니 유의해주세요.
                                </div>
                            </div>
                        </div>

                        <div class="faq-item bg-white border border-slate-100 rounded-[1.5rem] overflow-hidden">
                            <button onclick="toggleFaq(this.parentElement)" class="w-full p-5 flex items-center justify-between text-left hover:bg-slate-50 transition-colors">
                                <span class="text-sm font-bold text-slate-800">결제는 언제 이루어지나요?</span>
                                <i data-lucide="chevron-down" class="w-4 h-4 text-slate-400 transition-transform duration-300"></i>
                            </button>
                            <div class="faq-answer hidden p-5 pt-0 bg-slate-50/50 border-t border-slate-50">
                                <div class="text-[14px] text-slate-500 leading-relaxed">
                                    목적지 도착 후 정산하기 버튼을 누르면 전체 요금에서 인원수만큼 나눈 금액이 사전에 등록하신 카드로 자동 결제됩니다. 별도의 현금 거래가 필요 없어 안전합니다.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 사이드바 로드 (activeId: 'nav-notice')
        if (typeof loadNavbar === 'function') {
            loadNavbar("nav-notice");
        }
        
        lucide.createIcons();

        // 탭 전환
        function switchTab(tab) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
            document.querySelectorAll('.tab-btn').forEach(el => {
                el.classList.remove('active', 'text-indigo-600', 'border-indigo-600');
                el.classList.add('border-transparent');
            });

            document.getElementById(`content-${tab}`).classList.remove('hidden');
            const activeBtn = document.getElementById(`tab-${tab}`);
            activeBtn.classList.add('active', 'text-indigo-600', 'border-indigo-600');
            activeBtn.classList.remove('border-transparent');
            
            lucide.createIcons();
        }

        // FAQ 아코디언 토글
        function toggleFaq(element) {
            const isActive = element.classList.contains('active');
            document.querySelectorAll('.faq-item').forEach(item => {
                if(item !== element) item.classList.remove('active');
            });
            element.classList.toggle('active');
        }
    </script>
</body>
</html>